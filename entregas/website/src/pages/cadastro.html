<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro</title>
    <link rel="stylesheet" href="../styles/menu-style.css">
    <link rel="stylesheet" href="../styles/cadastro-style.css">
    <link rel="stylesheet" href="../styles/main.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@100..900&display=swap" rel="stylesheet">
</head>

<body>
    <header class="header">
        <div class="header-content">
            <a href="../pages/home.html">
                <img class="header-content-logo" src="../assets/cyclus.png">
            </a>
            <ul class="header-links">
                <li class="header-links-item">
                    <a class="letra-menu" href="../pages/home.html">Home</a>
                </li>
                <li class="header-links-item">
                    <a class="letra-menu" href="../pages/simulador.html">Simulador</a>
                </li>
                <li class="header-links-item">
                    <a class="letra-menu" href="../pages/contato.html">Contato</a>
                </li>
                <li class="header-links-item">
                    <a class="letra-menu" href="../pages/login.html">Login</a>
                </li>
            </ul>
        </div>
    </header>
    <section class="cadastro">
        <h1>Conecte-se conosco</h1>
        <div class="cadastro-div">
            <div class="cadastro-titulo">
                <h2>Cadastro</h2>
                <p>Campos com <b style="color: rgba(180, 11, 2, 0.9);">*</b> são obrigatórios</p>
            </div>
            <form class="cadastro-form">
                <div class="cadastro-form-campos">
                    <p>Nome <b style="color: rgba(180, 11, 2, 0.9);">*</b></p>
                    <input type="text" required id="ipt_nome" placeholder="Nome completo" />
                    <span class="cadastro-form-campos-alerta"></span>
                </div>
                <div class="duplo">
                    <div class="cadastro-form-campos">
                        <p>Razão social<b style="color: rgba(180, 11, 2, 0.9);">*</b></p>
                        <input type="text" required id="ipt_razaosocial" placeholder="Razão social" />
                        <span class="cadastro-form-campos-alerta"></span>
                    </div>
                    <div class="cadastro-form-campos">
                        <p>CNPJ <b style="color: rgba(180, 11, 2, 0.9);">*</b></p>
                        <input type="text" required id="ipt_cnpj" placeholder="12345678912345" />
                        <span class="cadastro-form-campos-alerta" id="alerta_cnpj"></span>
                    </div>
                </div>
                <div class="cadastro-form-campos">
                    <p>E-mail <b style="color: rgba(180, 11, 2, 0.9);">*</b></p>
                    <input type="text" required id="ipt_email" placeholder="nome@email.com" />
                    <span class="cadastro-form-campos-alerta" id="alerta_email"></span>
                </div>
                <div class="duplo">
                    <div class="cadastro-form-campos">
                        <p>Telefone</p>
                        <input type="text" required id="ipt_telefone" placeholder="(11)99999-9999" />
                        <span class="cadastro-form-campos-alerta" id="alerta_telefone"></span>
                    </div>
                    <div class="cadastro-form-campos">
                        <p>CEP <b style="color: rgba(180, 11, 2, 0.9);">*</b></p>
                        <input type="text" required id="ipt_cep" placeholder="12345678" />
                        <span class="cadastro-form-campos-alerta" id="alerta_cep"></span>
                    </div>
                </div>
                <div class="cadastro-form-campos">
                    <p>Endereço <b style="color: rgba(180, 11, 2, 0.9);">*</b></p>
                    <input type="text" required id="ipt_endereco" />
                    <span class="cadastro-form-campos-alerta"></span>
                </div>
                <div class="duplo">
                    <div class="cadastro-form-campos">
                        <p>Número <b style="color: rgba(180, 11, 2, 0.9);">*</b></p>
                        <input type="text" required id="ipt_numero" />
                        <span class="cadastro-form-campos-alerta"></span>
                    </div>
                    <div class="cadastro-form-campos">
                        <p>Complemento</p>
                        <input type="text" required id="ipt_complemento" />
                        <span class="cadastro-form-campos-alerta" id="alerta_complemento"></span>
                    </div>
                </div>
                <div class="cadastro-form-campos">
                    <p>Senha <b style="color: rgba(180, 11, 2, 0.9);">*</b></p>
                    <input type="password" id="ipt_senha" />
                    <span class="cadastro-form-campos-alerta" id="alerta_senha"></span>
                </div>
                <div class="cadastro-form-campos">
                    <p>Confirmar senha <b style="color: rgba(180, 11, 2, 0.9);">*</b></p>
                    <input type="password" id="ipt_senhaConfirm" />
                    <span class="cadastro-form-campos-alerta" id="alerta_senhaconfirm"></span>
                </div>
                <div>
                    <button type="button" onclick="cadastro()">Cadastre-se</button>
                    <a style="color: rgba(226, 10, 10, 0.65); text-decoration: underline;" href="../pages/login.html">Já
                        sou cadastrado</a>
                </div>
            </form>
        </div>
    </section>
    <footer class="footer">
        <p>© 2025 Cyclus - Monitoramento Inteligente</p>
    </footer>
</body>
<script>
    function cadastro() {
        // LIMPA OS ALERTAS
        alerta_cnpj.innerHTML = ``; alerta_email.innerHTML = ``; alerta_telefone.innerHTML = ``;
        alerta_cep.innerHTML = ``; alerta_senha.innerHTML = ``; alerta_senhaconfirm.innerHTML = ``;

        // DECLARANDO TODAS AS VARIÁVEIS
        let nome = ipt_nome.value, razaosocial = ipt_razaosocial.value, cnpj = ipt_cnpj.value,
            email = ipt_email.value, telefone = ipt_telefone.value, cep = ipt_cep.value,
            senha = ipt_senha.value, senhaConfirm = ipt_senhaConfirm.value, endereco = ipt_endereco.value,
            numero = ipt_numero.value, complemento = ipt_complemento.value;

        // DECLARANDO VARIÁVEIS PARA A VALIDAÇÃO FINAL
        let cnpjBool = false, emailBool = false, telefoneBool = false,
            cepBool = false, senhaBool = false;

        // DECLARANDO VARIÁVEIS PARA VALIDAÇÃO DA SENHA
        let charEspecial = "!@#$%¨&*()-_=+[]{}\\|;:\"'<>,.?/";
        let letrasMaiusculas = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";
        let letrasMinusculas = "abcdefghijklmnopqrstuvwxyz";

        // ANALISA SE ALGUM INPUT ESTÁ VAZIO
        if (nome == '' || razaosocial == '' || cnpj == '' || email == '' || telefone == '' ||
            cep == '' || endereco == '' || numero == '' || senha == '' || senhaConfirm == '') {
            alert('Insira todos os campos!');
        } else {
            // VALIDAÇÃO CNPJ
            let temLetraCNPJ = 0;
            for (let i = 0; i < cnpj.length; i++) {
                if (isNaN(Number(cnpj[i]))) {
                    temLetraCNPJ++;
                }
            }
            if (cnpj.length != 14 || temLetraCNPJ > 0) {
                if (cnpj.length != 14) {
                    alerta_cnpj.innerHTML += `Seu CNPJ precisa ter 14 dígitos<br>`
                }
                if (temLetraCNPJ > 0) {
                    alerta_cnpj.innerHTML += `Seu CNPJ possui ${temLetraCNPJ} caracteres inválidos`
                }
            } else {
                cnpjBool = true;
            }

            // VALIDAÇÃO EMAIL
            let temArrobaEmail = false;
            let temPontoEmail = false;
            for (let i = 0; i < email.length; i++) {
                if (email[i] == '@') {
                    temArrobaEmail = true;
                }
                if (email[i] == '.') {
                    temPontoEmail = true;
                }
            }
            if (temArrobaEmail == false || temPontoEmail == false) {
                alerta_email.innerHTML = `Insira um email válido`;
            } else {
                emailBool = true;
            }

            let temLetraTelefone = false;
            //VALIDAÇÃO TELEFONE
            for (let i = 0; i < telefone.length; i++) {
                if (isNaN(Number(telefone[i]))) {
                    temLetraTelefone = true;
                }
            }

            if (telefone.length < 8 || telefone.length > 11 || temLetraTelefone == true) {
                alerta_telefone.innerHTML = `Insira um telefone válido`;
            } else {
                telefoneBool = true;
            }

            let temLetraCep = false;
            for (let i = 0; i < cep.length; i++) {
                if (isNaN(Number(cep[i]))) {
                    temLetraCep = true;
                }
            }
            //VALIDAÇÃO CEP
            if (cep.length != 8 || temLetraCep == true) {
                if (temLetraCep == true) {
                    alerta_cep.innerHTML += `Só pode ter números no CEP<br>`;
                }
                if (cep.length != 8) {
                    alerta_cep.innerHTML += `Precisa ter 8 dígitos no CEP`;
                }
            } else {
                cepBool = true;
            }

            //VALIDAÇÃO SENHA
            let temCharEspecialSenha = false;
            let temCharMaiusculoSenha = false;
            let temCharMinusculoSenha = false;

            for (let i = 0; i < senha.length; i++) {
                for (let n = 0; n < charEspecial.length; n++) {
                    if (senha[i] == charEspecial[n]) {
                        temCharEspecialSenha = true;
                    }
                }
                for (let j = 0; j < letrasMaiusculas.length; j++) {
                    if (senha[i] == letrasMaiusculas[j]) {
                        temCharMaiusculoSenha = true;
                    }
                }
                for (let j = 0; j < letrasMinusculas.length; j++) {
                    if (senha[i] == letrasMinusculas[j]) {
                        temCharMinusculoSenha = true;
                    }
                }
            }
            if (senha.length < 12 || temCharEspecialSenha == false ||
                temCharMaiusculoSenha == false || temCharMinusculoSenha == false) {
                if (senha.length < 12) {
                    alerta_senha.innerHTML += `Precisa ter mais de 12 dígitos<br>`
                }
                if (temCharEspecialSenha == false) {
                    alerta_senha.innerHTML += `Precisa ter pelo menos um caracter especial<br>`
                }
                if (temCharMaiusculoSenha == false) {
                    alerta_senha.innerHTML += `Precisa ter pelo menos uma letra maiúscula<br>`
                }
                if (temCharMinusculoSenha == false) {
                    alerta_senha.innerHTML += `Precisa ter pelo menos uma letra minúscula<br>`
                }
            } else {
                if (senha != senhaConfirm) {
                    alerta_senhaconfirm.innerHTML += `As senhas devem ser iguais<br>`;
                } else {
                    senhaBool = true;
                }
            }
        }
        if (cnpjBool == true && emailBool == true && telefoneBool == true
            && cepBool == true && senhaBool == true) {
            alert("Cadastro bem sucedido!")
        }
    }
</script>

</html>